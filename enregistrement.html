<!DOCTYPE html> 
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>page de connexion</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <form class="enregistrement" id="registre">
            <h2>Enregistrement</h2>
            <i class="fa-regular fa-user"></i>
            <label for="nom">Nom</label>
            <input id="nom" type="text" placeholder="Ex:Ilunga"><br>
            <i class="fa-regular fa-user"></i>
            <label for="postnom">Postnom</label>
            <input id="postnom" type="text"placeholder="Ex:Mwauka">
            <br>
            <i class="fa-regular fa-user"></i>
            <label for="prenom">Prenom</label>
            <input id="prenom" type="text"placeholder="Ex:Agnes">
            <br>
            <i class="fa-solid fa-building"></i>
            <label for="firm">Entreprise</label>
            <input id="firm" type="text"placeholder="Mashup SARL">
            <br>
            <i class="fa-solid fa-building"></i>
            <label for="job">Poste</label>
            <input id="job" type="text"placeholder="Mashup SARL">
            <br>
            <i class="fa-solid fa-phone"></i>
            <label for="tel">Téléphone</label>
            <input id="tel" type="tel"placeholder="EX:+2439000766">
            <br>
            <i class="fa-regular fa-envelope"></i>
            <label for="e-mail">E-mail</label>
            <input id="email" type="email"placeholder="Ex:agnesmwauka@gmail.com">
            <br>
            <i class="fa-solid fa-image"></i>
            <label for="photo"></label>
            <input id="photo" type="file">
            <br>
            <i class="fa-solid fa-lock"></i>
            <label for="password">créer un mot de passe</label>
            <input id="password" type="password" required="required" placeholder="*****">
            <br>
            <i class="fa-solid fa-lock"></i>
            <label for="password">confirmer le mot de passe</label>
            <input id="password" type="password" required="required" placeholder="*****">
            <br>
            <button type="submit">créer</button>
            <br>
            <p> vous avez déjà un compte?<a href="connexion.html" class="login">se connecter</a></p>
        </form>
            <script>
                document.getElementById("registre").addEventListener("submit", function(e){
                    e.preventDefault();
                    const photo= document.getElementById("photo").files[0];
                    const nom= document.getElementById("nom").value;
                    const postnom= document.getElementById("postnom").value;
                    const prenom= document.getElementById("prenom").value;
                    const firm= document.getElementById("firm").value;
                    const job= document.getElementById("job").value;
                    const tel= document.getElementById("tel").value;
                    const mail= document.getElementById("email").value;
                    const password= document.getElementById("password").value;
                    const reader= new FileReader();
                    reader.onload= function(){
                        const userData= {
                            nom, postnom, prenom, firm, job, tel, mail, password, photo: reader.result
                        };
                        localStorage.setItem("userData", JSON.stringify(userData));
                        window.location.href= "profil.html"
                    };
                    if(photo) {
                        reader.readAsDataURL(photo);
                    } else {
                        const userData= {nom, postnom, prenom, firm, job, tel, mail, password, photo:""};
                        localStorage.setItem("userData", JSON.stringify(userData));
                        Window.location.href= "profil.html"
                    }
                });
            </script>
    </body>

</html>

